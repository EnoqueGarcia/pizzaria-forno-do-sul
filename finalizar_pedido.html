<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finalizar Pedido</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" 
     rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="stylesheet" href="./css/style.css">
    <style>
        .container { text-align: center; padding: 20px; }
        .pedido-form { display: inline-block; text-align: left; }
        .pedido-form label { display: block; margin-top: 15px; font-weight: bold; }
        .pedido-form input[type="text"], .pedido-form select {
            width: 300px; padding: 8px; margin-top: 5px; box-sizing: border-box; display: block;
        }
        .btn { margin: 20px auto 0; display: block; padding: 10px 25px; font-size: 16px; cursor: pointer; }
        input { outline: none; }


body{
background-image: url("src/background2.jpg");
    backdrop-filter: none;
  
    background-size: cover;


}

#pedidoForm{
  
    color: rgb(255, 175, 3);
}

    </style>
</head>
<body>
<div class="container">
    <h1>Confirme seu Pedido</h1>
    <p><strong>Tamanho: <span id="tamanho" style="color:yellow"></span></strong></p>
    <p><strong>Sabor: <span id="sabores" style="color:rgb(230, 255, 7); font-size:1.3em;"></span></strong></p>

    <form action="" method="POST" class="pedido-form" id="pedidoForm">
        <input type="hidden" name="tamanho" id="tamanhoInput">
        <input type="hidden" name="sabores" id="saboresInput">

        <label for="nome">Nome:</label>
        <input type="text" name="nome" id="nome" required>

        <label for="endereco">Endereço:</label>
        <input type="text" name="endereco" id="endereco" required>

        <label for="telefone">Telefone:</label>
        <input type="text" name="telefone" id="telefone" required>

        <label for="pagamento">Forma de pagamento:</label>
        <select name="pagamento" id="pagamento" required>
            <option value="">Selecione</option>
            <option value="Dinheiro">Dinheiro</option>
            <option value="Cartão de Crédito">Cartão de Crédito</option>
            <option value="Cartão de Débito">Cartão de Débito</option>
            <option value="Pix">Pix</option>
        </select>

        <button type="submit" class="btn btn-danger">Finalizar Pedido</button>
    </form>
</div>
 <footer>
        <p>&copy; 2025 Pizzaria Forno do sul. Todos os direitos reservados.</p>
    </footer>
<script>
    // lê os parâmetros da URL
    const params = new URLSearchParams(window.location.search);
    const tamanho = params.get("tamanho");
    const sabores = params.get("sabores");

    // mostra na tela
    document.getElementById("tamanho").textContent = tamanho;
    document.getElementById("sabores").textContent = sabores ? sabores.split(",").join(", ") : "";

    // preenche os inputs hidden
    document.getElementById("tamanhoInput").value = tamanho;
    document.getElementById("saboresInput").value = sabores;

    // intercepta o envio do formulário para mostrar SweetAlert
    document.getElementById("pedidoForm").addEventListener("submit", function(event) {
        event.preventDefault(); // impede envio imediato

        Swal.fire({
            title: "Confirmar Pedido?",
            html: `
                <b>Tamanho:</b> ${tamanho}<br>
                <b>Sabores:</b> ${sabores ? sabores.split(",").join(", ") : ""}<br>
                <b>Nome:</b> ${document.getElementById("nome").value}<br>
                <b>Endereço:</b> ${document.getElementById("endereco").value}<br>
                <b>Telefone:</b> ${document.getElementById("telefone").value}<br>
                <b>Pagamento:</b> ${document.getElementById("pagamento").value}
            `,
            icon: "question",
            showCancelButton: true,
            confirmButtonText: "Sim, enviar",
            cancelButtonText: "Cancelar"
        }).then((result) => {
            if (result.isConfirmed) {
              //  event.target.submit(); envia o formulário de verdade

             //Mensagem de confirmação 
             Swal.fire({
            title: "Pedido realizado com sucesso!", 
            icon: "success", 
            confirmButtonText: "OK", 
           
        })

            }
        });
    });
</script>
</body>
</html>
